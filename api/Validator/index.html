<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Validator | Ledap</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="好用的前后端解耦方案">
    <link rel="preload" href="/ledap.org/assets/css/0.styles.7c2e5f56.css" as="style"><link rel="preload" href="/ledap.org/assets/js/app.814a8fe9.js" as="script"><link rel="preload" href="/ledap.org/assets/js/2.4b044b00.js" as="script"><link rel="preload" href="/ledap.org/assets/js/15.beb4b5fd.js" as="script"><link rel="prefetch" href="/ledap.org/assets/js/10.54fbc5a5.js"><link rel="prefetch" href="/ledap.org/assets/js/11.bbd7953c.js"><link rel="prefetch" href="/ledap.org/assets/js/12.c6098a4d.js"><link rel="prefetch" href="/ledap.org/assets/js/13.837810fc.js"><link rel="prefetch" href="/ledap.org/assets/js/14.31ae63ba.js"><link rel="prefetch" href="/ledap.org/assets/js/16.876f587e.js"><link rel="prefetch" href="/ledap.org/assets/js/17.b2199779.js"><link rel="prefetch" href="/ledap.org/assets/js/18.7ddc8335.js"><link rel="prefetch" href="/ledap.org/assets/js/19.92e5049c.js"><link rel="prefetch" href="/ledap.org/assets/js/20.b3ee1b96.js"><link rel="prefetch" href="/ledap.org/assets/js/21.1d54ba3a.js"><link rel="prefetch" href="/ledap.org/assets/js/22.bc5c3f15.js"><link rel="prefetch" href="/ledap.org/assets/js/23.5605c1b9.js"><link rel="prefetch" href="/ledap.org/assets/js/24.27052103.js"><link rel="prefetch" href="/ledap.org/assets/js/25.bd1e44fc.js"><link rel="prefetch" href="/ledap.org/assets/js/26.1fe98e9f.js"><link rel="prefetch" href="/ledap.org/assets/js/27.2f9294d8.js"><link rel="prefetch" href="/ledap.org/assets/js/28.fa730530.js"><link rel="prefetch" href="/ledap.org/assets/js/29.a33ee9f4.js"><link rel="prefetch" href="/ledap.org/assets/js/3.5503efbe.js"><link rel="prefetch" href="/ledap.org/assets/js/4.74795022.js"><link rel="prefetch" href="/ledap.org/assets/js/5.1d4f2657.js"><link rel="prefetch" href="/ledap.org/assets/js/6.55ee34e8.js"><link rel="prefetch" href="/ledap.org/assets/js/7.4d345fae.js"><link rel="prefetch" href="/ledap.org/assets/js/8.2687e1cc.js"><link rel="prefetch" href="/ledap.org/assets/js/9.c9848707.js">
    <link rel="stylesheet" href="/ledap.org/assets/css/0.styles.7c2e5f56.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ledap.org/" class="home-link router-link-active"><!----> <span class="site-name">Ledap</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ledap.org/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/ledap.org/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/ledap.org/component/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="/ledap.org/api/Event/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="https://github.com/ethercap/ledap" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ledap.org/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/ledap.org/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/ledap.org/component/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="/ledap.org/api/Event/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="https://github.com/ethercap/ledap" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ledap.org/api/Event/" class="sidebar-link">Event</a></li><li><a href="/ledap.org/api/base/" class="sidebar-link">BaseObject</a></li><li><a href="/ledap.org/api/Model/" class="sidebar-link">Model</a></li><li><a href="/ledap.org/api/DataProvider/" class="sidebar-link">DataProvider</a></li><li><a href="/ledap.org/api/WebDataProvider/" class="sidebar-link">WebDataProvider</a></li><li><a href="/ledap.org/api/Pagination/" class="sidebar-link">Pagination</a></li><li><a href="/ledap.org/api/Validator/" class="active sidebar-link">Validator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#rules" class="sidebar-link">rules</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#获取验证器" class="sidebar-link">获取验证器</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#验证器分类" class="sidebar-link">验证器分类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#boolean" class="sidebar-link">boolean</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#string" class="sidebar-link">string</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#int-double-number" class="sidebar-link">int, double, number</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#required" class="sidebar-link">required</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#match-regex" class="sidebar-link">match, regex</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#compare" class="sidebar-link">compare</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#email" class="sidebar-link">email</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#in-range" class="sidebar-link">in, range</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#url" class="sidebar-link">url</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#ip" class="sidebar-link">ip</a></li><li class="sidebar-sub-header"><a href="/ledap.org/api/Validator/#dict-array" class="sidebar-link">dict, array</a></li></ul></li></ul></li><li><a href="/ledap.org/api/Theme/" class="sidebar-link">Theme</a></li><li><a href="/ledap.org/api/App/" class="sidebar-link">App</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="validator"><a href="#validator" class="header-anchor">#</a> Validator</h1> <p>Validator 是 Ledap 的验证器，可以根据参数返回一个特定的验证器，验证器可以验证某个属性的值是否符合指定的规则，Ledap 将验证器分成了 boolean、compare、dictVa、number 等数种。需要注意的是，Validator 功能属于 <a href="/ledap.org/api/model/">Model</a> 的一部分，在获取 <a href="/ledap.org/api/model/">Model</a> 实例的时候，只需按照正确的格式传入 rules 即可。</p> <h2 id="rules"><a href="#rules" class="header-anchor">#</a> rules</h2> <ul><li>类型：Array&lt;Rule&gt;</li></ul> <h4 id="rule"><a href="#rule" class="header-anchor">#</a> rule</h4> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">type</td> <td style="text-align:center;">String</td> <td style="text-align:center;">验证器的类型</td></tr> <tr><td style="text-align:center;">options</td> <td style="text-align:center;">Object</td> <td style="text-align:center;"><a href="/ledap.org/api/Validator/#验证器分类">验证器分类</a>，如果某种类型里 options 里面的字段都是非必填项，则 options 可省略，如 string、required、emai 等</td></tr></tbody></table> <h2 id="获取验证器"><a href="#获取验证器" class="header-anchor">#</a> 获取验证器</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Ledap <span class="token keyword">from</span> <span class="token string">'ledap'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ledap<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
model<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token punctuation">{</span>
        label<span class="token operator">:</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
        hint<span class="token operator">:</span> <span class="token string">'请输入姓名'</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
        rules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>   <span class="token comment">// 获得了一个 string 验证器</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
                max<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                message<span class="token operator">:</span> <span class="token string">'姓名必须是一条字符串。'</span><span class="token punctuation">,</span>
                skipOnEmpty<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                tooLong<span class="token operator">:</span> <span class="token string">'姓名只能包含至多5个字符。'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
model<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>
</code></pre></div><h2 id="验证器分类"><a href="#验证器分类" class="header-anchor">#</a> 验证器分类</h2> <ul><li>options 通用字段</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">String</td> <td style="text-align:center;">当验证结果为 false 的错误信息</td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">boolean | Number</td> <td style="text-align:center;">当数据为空时，验证数据后不添加错误信息</td></tr></tbody></table> <h3 id="boolean"><a href="#boolean" class="header-anchor">#</a> boolean</h3> <ul><li>options</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">是否必填</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'xx应该为布尔型'</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">boolean | Number</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">trueValue</td> <td style="text-align:center;">any</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;">表示真值</td></tr> <tr><td style="text-align:center;">falseValue</td> <td style="text-align:center;">any</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">表示假值</td></tr> <tr><td style="text-align:center;">strict</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">为 true 时，只有数据 === 真值时验证结果才为 true</td></tr></tbody></table> <ul><li>示例：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'boolean'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
        message<span class="token operator">:</span> <span class="token string">'格式错误'</span><span class="token punctuation">,</span>
        trueValue<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        falseValue<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        strict<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="string"><a href="#string" class="header-anchor">#</a> string</h3> <ul><li>options</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">是否必填</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'xx的值不合法'</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">boolean | Number</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">is</td> <td style="text-align:center;">Number</td> <td style="text-align:center;">-</td> <td style="text-align:center;">否</td> <td style="text-align:center;">指定字符串的长度值，若不符合则错误信息为 notEqual 的值</td></tr> <tr><td style="text-align:center;">notEqual</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'文本内容长度不匹配'</td> <td style="text-align:center;">否</td> <td style="text-align:center;">is 规则的错误提示信息</td></tr> <tr><td style="text-align:center;">min</td> <td style="text-align:center;">Number</td> <td style="text-align:center;">-</td> <td style="text-align:center;">否</td> <td style="text-align:center;">指定字符串的最小长度，若不符合则错误信息为 tooShort 的值</td></tr> <tr><td style="text-align:center;">tooShort</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'文本内容过短'</td> <td style="text-align:center;">否</td> <td style="text-align:center;">min 规则的错误提示信息</td></tr> <tr><td style="text-align:center;">max</td> <td style="text-align:center;">Number</td> <td style="text-align:center;">-</td> <td style="text-align:center;">否</td> <td style="text-align:center;">指定字符串的最大长度，若不符合则错误信息为 tooLong 的值</td></tr> <tr><td style="text-align:center;">tooLong</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'文本内容过长'</td> <td style="text-align:center;">否</td> <td style="text-align:center;">max 规则的错误提示信息</td></tr></tbody></table> <h3 id="int-double-number"><a href="#int-double-number" class="header-anchor">#</a> int, double, number</h3> <ul><li>options</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">是否必填</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'xx不是一个合法的数字'</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">boolean | Number</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">pattern</td> <td style="text-align:center;">String</td> <td style="text-align:center;">/^\s*[-+]?[0-9]<em>.?[0-9]+([eE][-+]?[0-9]+)?\s</em>$/</td> <td style="text-align:center;">否</td> <td style="text-align:center;">数字的正则表达式</td></tr> <tr><td style="text-align:center;">max</td> <td style="text-align:center;">Number</td> <td style="text-align:center;">-</td> <td style="text-align:center;">否</td> <td style="text-align:center;">指定数值的最大值，若不符合规则则错误信息为 tooBig 的值</td></tr> <tr><td style="text-align:center;">tooBig</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'数据太大'</td> <td style="text-align:center;">否</td> <td style="text-align:center;">max 规则的错误信息</td></tr> <tr><td style="text-align:center;">min</td> <td style="text-align:center;">Number</td> <td style="text-align:center;">-</td> <td style="text-align:center;">否</td> <td style="text-align:center;">指定数值的最小值，若不符合规则则错误信息为 tooSmall 的值</td></tr> <tr><td style="text-align:center;">tooSmall</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'数据太大'</td> <td style="text-align:center;">否</td> <td style="text-align:center;">min 规则的错误信息</td></tr></tbody></table> <h3 id="required"><a href="#required" class="header-anchor">#</a> required</h3> <ul><li>options</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">是否必填</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'xx不能为空'</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">-</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;">指定无效，恒定为 true</td></tr> <tr><td style="text-align:center;">requiredValue</td> <td style="text-align:center;">any</td> <td style="text-align:center;">-</td> <td style="text-align:center;">否</td> <td style="text-align:center;">如果设置了该值，则数据应该 == requiredValue，如果为 strict 模式，则应该 ===</td></tr> <tr><td style="text-align:center;">strict</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">是否是严格模式</td></tr></tbody></table> <h3 id="match-regex"><a href="#match-regex" class="header-anchor">#</a> match, regex</h3> <ul><li>options</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">是否必填</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'xx格式不正确'</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">boolean | Number</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">pattern</td> <td style="text-align:center;">String</td> <td style="text-align:center;">-</td> <td style="text-align:center;">是</td> <td style="text-align:center;">验证的正则表达式</td></tr> <tr><td style="text-align:center;">not</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">验证的结果取反</td></tr></tbody></table> <h3 id="compare"><a href="#compare" class="header-anchor">#</a> compare</h3> <ul><li>options</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">是否必填</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'xx的值不合法'</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">boolean | Number</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">operator</td> <td style="text-align:center;">String</td> <td style="text-align:center;">-</td> <td style="text-align:center;">是</td> <td style="text-align:center;">比较的操作符，有效值==, &gt;, &lt; , &gt;=, &lt;=,===, !=, !==</td></tr> <tr><td style="text-align:center;">type</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'string'</td> <td style="text-align:center;">否</td> <td style="text-align:center;">将数组转换成某种类型再进行比较，有效值'string'、'number'</td></tr> <tr><td style="text-align:center;">compareAttribute</td> <td style="text-align:center;">String</td> <td style="text-align:center;">undefined</td> <td style="text-align:center;">否</td> <td style="text-align:center;">与 model 的某个属性进行比较，当与 compareValue 同时存在时，compareAttribute 优先级更高</td></tr> <tr><td style="text-align:center;">compareValue</td> <td style="text-align:center;">String | Number</td> <td style="text-align:center;">undefined</td> <td style="text-align:center;">否</td> <td style="text-align:center;">与某个值进行比较</td></tr></tbody></table> <h3 id="email"><a href="#email" class="header-anchor">#</a> email</h3> <ul><li>options</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">是否必填</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'xx不是一个合法的邮箱格式'</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">boolean | Number</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">pattern</td> <td style="text-align:center;">String</td> <td style="text-align:center;">略</td> <td style="text-align:center;">否</td> <td style="text-align:center;">验证邮箱的正则表达式，例如：john@example.com</td></tr> <tr><td style="text-align:center;">fullPattern</td> <td style="text-align:center;">String</td> <td style="text-align:center;">略</td> <td style="text-align:center;">否</td> <td style="text-align:center;">验证全称邮箱的正则表达式，例如：john <a href="mailto:john@example.com">john@example.com</a></td></tr> <tr><td style="text-align:center;">allowName</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">是否采用 fullPattern 来验证</td></tr> <tr><td style="text-align:center;">enableIDN</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">是否支持IDN</td></tr></tbody></table> <h3 id="in-range"><a href="#in-range" class="header-anchor">#</a> in, range</h3> <p>检查数据是否为 in,range 中的数值。</p> <ul><li>options</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">是否必填</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'xx的值不合法'</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">boolean | Number</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">range</td> <td style="text-align:center;">Array</td> <td style="text-align:center;">-</td> <td style="text-align:center;">是</td> <td style="text-align:center;">指定的数组</td></tr> <tr><td style="text-align:center;">allowArray</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">是否允许验证的值是指定数组的子元素</td></tr> <tr><td style="text-align:center;">not</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">是否对验证结果取反</td></tr></tbody></table> <h3 id="url"><a href="#url" class="header-anchor">#</a> url</h3> <ul><li>options</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">是否必填</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'xx的值不合法'</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">boolean | Number</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">pattern</td> <td style="text-align:center;">String</td> <td style="text-align:center;">略</td> <td style="text-align:center;">否</td> <td style="text-align:center;">验证额正则表达式</td></tr> <tr><td style="text-align:center;">enableIDN</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">是否支持IDN</td></tr> <tr><td style="text-align:center;">defaultScheme</td> <td style="text-align:center;">String</td> <td style="text-align:center;">''</td> <td style="text-align:center;">否</td> <td style="text-align:center;">如果有,在验证时，会自动加上。例如，如果 defaultScheme 为 'http', 用户输入 'www.xx.com' 在验证之后会变为 'http://www.xx.com'</td></tr></tbody></table> <h3 id="ip"><a href="#ip" class="header-anchor">#</a> ip</h3> <ul><li>options</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">是否必填</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">Object</td> <td style="text-align:center;">详见下</td> <td style="text-align:center;">否</td> <td style="text-align:center;">不同情况的错误信息</td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">boolean | Number</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">ipv4</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;">是否允许 ipv4 地址</td></tr> <tr><td style="text-align:center;">ipv4Pattern</td> <td style="text-align:center;">String</td> <td style="text-align:center;">略</td> <td style="text-align:center;">否</td> <td style="text-align:center;">ipv4 正则验证表达式</td></tr> <tr><td style="text-align:center;">ipv6</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;">是否允许 ipv6 地址</td></tr> <tr><td style="text-align:center;">ipv6Pattern</td> <td style="text-align:center;">String</td> <td style="text-align:center;">略</td> <td style="text-align:center;">否</td> <td style="text-align:center;">ipv6 正则验证表达式</td></tr> <tr><td style="text-align:center;">ipParsePattern</td> <td style="text-align:center;">String</td> <td style="text-align:center;">/^(!?)(.+?)(/(\d+))?$/</td> <td style="text-align:center;">否</td> <td style="text-align:center;">获取 ip 的正则，可以将否定符等提出来来</td></tr> <tr><td style="text-align:center;">negation</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">ip 地址前是否有一个否定符，例如 !192.168.1.1</td></tr> <tr><td style="text-align:center;">subnet</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">是否带 CIDR 子网掩码，例如 192.168.10.0/24</td></tr></tbody></table> <h4 id="message-object"><a href="#message-object" class="header-anchor">#</a> message Object</h4> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">ipv4NotAllowed</td> <td style="text-align:center;">'地址不能是ipv4地址'</td> <td style="text-align:center;">ipv4 验证错误信息</td></tr> <tr><td style="text-align:center;">ipv6NotAllowed</td> <td style="text-align:center;">'地址不能是ipv6地址'</td> <td style="text-align:center;">ipv6 验证错误信息</td></tr> <tr><td style="text-align:center;">noSubnet</td> <td style="text-align:center;">'ip地址必须带掩码'</td> <td style="text-align:center;">subnet 为 true 时验证错误信息</td></tr> <tr><td style="text-align:center;">hasSubnet</td> <td style="text-align:center;">'ip地址不能带掩码'</td> <td style="text-align:center;">subnet 为 false 时验证错误信息</td></tr> <tr><td style="text-align:center;">message</td> <td style="text-align:center;">'ip地址不正确'</td> <td style="text-align:center;">其他验证错误信息</td></tr></tbody></table> <h3 id="dict-array"><a href="#dict-array" class="header-anchor">#</a> dict, array</h3> <p>model 的属性值是指定的 list 中的一部分。</p> <ul><li>options</li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">是否必填</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'xx的值不合法'</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">skipOnEmpty</td> <td style="text-align:center;">boolean | Number</td> <td style="text-align:center;">true</td> <td style="text-align:center;">否</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">list</td> <td style="text-align:center;">Object</td> <td style="text-align:center;">-</td> <td style="text-align:center;">是</td> <td style="text-align:center;">指定的的范围</td></tr> <tr><td style="text-align:center;">order</td> <td style="text-align:center;">Array</td> <td style="text-align:center;">Object.keys(list)</td> <td style="text-align:center;">否</td> <td style="text-align:center;">指定 list 的展示顺序</td></tr> <tr><td style="text-align:center;">multiple</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">false</td> <td style="text-align:center;">否</td> <td style="text-align:center;">被验证数据是否允许为数组</td></tr> <tr><td style="text-align:center;">excludes</td> <td style="text-align:center;">Array</td> <td style="text-align:center;">[]</td> <td style="text-align:center;">否</td> <td style="text-align:center;">被验证数据不能包含在此数组中</td></tr> <tr><td style="text-align:center;">min</td> <td style="text-align:center;">Number</td> <td style="text-align:center;">-</td> <td style="text-align:center;">否</td> <td style="text-align:center;">指定最小选项数，若不符合规则则错误信息为 tooSmall 的值</td></tr> <tr><td style="text-align:center;">tooSmall</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'选项过少'</td> <td style="text-align:center;">否</td> <td style="text-align:center;">min 规则的错误信息</td></tr> <tr><td style="text-align:center;">max</td> <td style="text-align:center;">Number</td> <td style="text-align:center;">-</td> <td style="text-align:center;">否</td> <td style="text-align:center;">指定最大选项数，若不符合规则则错误信息为 tooMuch 的值</td></tr> <tr><td style="text-align:center;">tooMuch</td> <td style="text-align:center;">String</td> <td style="text-align:center;">'选项过多'</td> <td style="text-align:center;">否</td> <td style="text-align:center;">max 规则的错误信息</td></tr></tbody></table></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/19/2020, 2:05:24 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ledap.org/api/Pagination/" class="prev">
        Pagination
      </a></span> <span class="next"><a href="/ledap.org/api/Theme/">
        Theme
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ledap.org/assets/js/app.814a8fe9.js" defer></script><script src="/ledap.org/assets/js/2.4b044b00.js" defer></script><script src="/ledap.org/assets/js/15.beb4b5fd.js" defer></script>
  </body>
</html>
